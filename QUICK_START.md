# ⚡ 快速开始指南

## 📋 5分钟快速部署

### 步骤 1: 安装 TA-Lib (必须)

#### Ubuntu/Debian:
```bash
# 下载和安装 TA-Lib
wget http://prdownloads.sourceforge.net/ta-lib/ta-lib-0.4.0-src.tar.gz
tar -xzf ta-lib-0.4.0-src.tar.gz
cd ta-lib/
./configure --prefix=/usr
make
sudo make install
cd ..
sudo ldconfig
```

#### macOS:
```bash
brew install ta-lib
```

### 步骤 2: 安装 Python 依赖
```bash
pip install -r requirements_v2.txt
```

### 步骤 3: 配置 DeepSeek API Key

1. 访问 https://platform.deepseek.com/api_keys
2. 注册/登录账户
3. 创建 API Key
4. 编辑 `server_v2.py`，第 19 行：
```python
DEEPSEEK_API_KEY = "sk-xxxxxxxxxxxxxxxxxxxxxxxxxx"  # 替换为你的 API Key
```

### 步骤 4: 启动系统
```bash
# 方式 1: 使用启动脚本 (推荐)
./start.sh

# 方式 2: 直接运行
python server_v2.py
```

### 步骤 5: 访问前端
浏览器打开: http://localhost:5000

---

## 🎯 首次使用教程

### 1. 主界面布局

```
┌─────────────────────────────────────────────────────────┐
│  🚀 加密货币 AI 交易系统 V2.0                              │
│  由 DeepSeek AI 驱动 | 多周期技术分析 | 实时预测           │
└─────────────────────────────────────────────────────────┘

┌──────┬──────┬──────┬──────┬──────┬──────┐
│ BTC  │ ETH  │ 10m  │ 30m  │ 总交  │ 状态  │
│ 价格 │ 价格 │ 胜率 │ 胜率 │ 易数  │      │
└──────┴──────┴──────┴──────┴──────┴──────┘

┌─────────────────────┐  ┌─────────────────────┐
│  📊 分析 BTC        │  │  📊 分析 ETH        │
│  🔄 刷新数据        │  │  ⚙️  设置           │
└─────────────────────┘  └─────────────────────┘

┌───────────────────────────┬───────────────────────────┐
│  BTCUSDT 分析              │  ETHUSDT 分析              │
│  ├─ 当前价格               │  ├─ 当前价格               │
│  ├─ 预测信号 (B10/S10...)  │  ├─ 预测信号 (B10/S10...)  │
│  ├─ 多周期趋势             │  ├─ 多周期趋势             │
│  ├─ 技术指标               │  ├─ 技术指标               │
│  └─ 波浪分析               │  └─ 波浪分析               │
└───────────────────────────┴───────────────────────────┘

┌───────────────────────────────────────────────────────┐
│  🧠 DeepSeek AI 思维链分析                             │
│  (Markdown 格式，详细推理过程)                          │
└───────────────────────────────────────────────────────┘
```

### 2. 点击 "📊 分析 BTC"

系统会自动：
1. ✅ 获取实时价格数据
2. ✅ 抓取 4 个周期 K 线 (3m/15m/1h/4h)
3. ✅ 计算 20+ 技术指标
4. ✅ 应用道氏、波浪、江恩理论
5. ✅ 调用 DeepSeek AI 分析
6. ✅ 生成预测信号

**等待时间**: 约 10-30 秒（取决于网络和 AI 推理速度）

### 3. 查看分析结果

#### A. 预测信号卡片
```
┌──────────┬──────────┬──────────┬──────────┐
│   B10    │   B30    │  信心度  │   操作   │
│ 10分钟做多│ 30分钟做多│   92%    │   做多   │
│   UP     │   UP     │          │  LONG    │
│   85%    │   80%    │          │          │
└──────────┴──────────┴──────────┴──────────┘
```

**含义**:
- **B10 (绿色)**: 10分钟内价格会上涨，概率 85%
- **B30 (蓝色)**: 30分钟内价格会上涨，概率 80%
- **信心度 92%**: 开仓信心非常高 (≥85 可开仓)
- **操作 LONG**: 建议做多

#### B. 多周期趋势
```
┌──────┬──────┬──────┬──────┐
│  3M  │ 15M  │  1H  │  4H  │
│ 📈多头│ 📈多头│ 📈多头│ 📈多头│
│ 2.3% │ 3.5% │ 5.1% │ 6.8% │
│ ████ │ ████ │ ████ │ ████ │
└──────┴──────┴──────┴──────┘
```

**含义**:
- 4 个周期全部多头 → 强势上涨趋势
- 绿色边框 → 多头
- 红色边框 → 空头
- 进度条 → 信心度

#### C. 技术指标
```
┌─────────┬─────────┬─────────┐
│ MACD    │ RSI 14  │ EMA 20  │
│ +125.3  │  48.5   │ 98420   │
├─────────┼─────────┼─────────┤
│ BB上轨  │ BB下轨  │ ATR     │
│ 99500   │ 97500   │ 850.2   │
└─────────┴─────────┴─────────┘
```

**重点关注**:
- **MACD > 0**: 多头动能
- **RSI 40-60**: 健康区间
- **EMA 20**: 关键支撑/阻力位
- **BB上下轨**: 波动区间

#### D. AI 思维链
滚动查看完整的 Markdown 分析：
```markdown
## 🧠 市场分析 - BTCUSDT

### 1. 当前市场状态
- **当前价格**: $98,500
- **主趋势 (4h)**: 多头，价格位于 EMA20 上方
- **中期趋势 (1h)**: 多头，MACD 金叉

### 2. 道氏理论分析
- **主要趋势**: 上升趋势，高点抬高
- **成交量**: 上涨时放量，健康

### 3. 波浪理论分析
- **当前位置**: 浪 2 回调结束，即将启动浪 3
- **浪 3 目标**: $103,000 (1.618 × 浪 1)

### 4. 技术指标综合
| 指标 | 3m | 15m | 1h | 4h | 评估 |
|------|----|----|----|----|-----|
| MACD | 12.3 | 18.5 | 35.2 | 56.7 | ✅ 多头 |
| RSI  | 38   | 42   | 52   | 58   | ✅ 健康 |

### 5. 多空确认清单 (做多)
- [x] MACD > 0 ✅
- [x] 价格 > EMA20 ✅
- [x] RSI 健康区 ✅
- [x] 成交量放大 ✅
**一致性: 8/8 项 ✅ 强信号**

### 6. 信心度计算
- 基础分: 50
- 多空清单 8/8: +5
- 多周期一致: +10
- 强技术位: +5
- 成交量确认: +5
- **总分: 85 → 可开仓**

### 7. 入场策略
- **方向**: LONG (做多)
- **入场价**: $98,400
- **止损**: $97,400 (-1.02%)
- **止盈**: $101,400 (+3.05%)
- **盈亏比**: 1:3
```

### 4. 如何解读信号？

#### 信号类型说明

| 信号 | 颜色 | 含义 | 操作 |
|-----|------|-----|------|
| **B10** 🟢 | 绿色渐变 | 10分钟做多 | 价格会上涨，可做多 |
| **S10** 🔴 | 红橙渐变 | 10分钟做空 | 价格会下跌，可做空 |
| **B30** 🔵 | 蓝色渐变 | 30分钟做多 | 价格会上涨，可做多 |
| **S30** 🟣 | 紫红渐变 | 30分钟做空 | 价格会下跌，可做空 |
| **WAIT** ⚪ | 灰色 | 观望 | 信号不明确，不操作 |

#### 信心度标准

| 分数 | 评级 | 建议 |
|-----|------|------|
| **95-100** | 🌟🌟🌟🌟🌟 极强 | 强烈推荐开仓 |
| **90-94** | 🌟🌟🌟🌟 很强 | 推荐开仓 |
| **85-89** | 🌟🌟🌟 较强 | 可以开仓 |
| **75-84** | 🌟🌟 中等 | 谨慎观察 |
| **<75** | 🌟 弱 | 不建议开仓 |

#### 操作建议对应

| 操作 | 含义 | 实盘操作 |
|-----|------|---------|
| **做多 (LONG)** | 买入，预期价格上涨 | 开多仓 |
| **做空 (SHORT)** | 卖出，预期价格下跌 | 开空仓 |
| **观望 (WAIT)** | 不操作，等待信号 | 持币观望 |
| **持有 (HOLD)** | 保持当前仓位 | 不平仓 |

### 5. 实盘操作示例

#### 场景 1: 强多头信号
```
预测信号: B10 (85%) + B30 (80%)
信心度: 92%
操作: 做多 (LONG)

实盘操作:
1. 在币安开多仓 BTCUSDT
2. 入场价: $98,400
3. 止损: $97,400 (下方 -1%)
4. 止盈: $101,400 (上方 +3%)
5. 杠杆: 3-5x (根据风险承受)
```

#### 场景 2: 强空头信号
```
预测信号: S10 (88%) + S30 (82%)
信心度: 90%
操作: 做空 (SHORT)

实盘操作:
1. 在币安开空仓 BTCUSDT
2. 入场价: $98,600
3. 止损: $99,600 (上方 +1%)
4. 止盈: $95,600 (下方 -3%)
5. 杠杆: 3-5x
```

#### 场景 3: 观望信号
```
预测信号: WAIT
信心度: 65%
操作: 观望 (WAIT)

实盘操作:
1. 不开仓
2. 继续监控市场
3. 等待信心度 ≥85 的信号
```

---

## ⚠️ 新手注意事项

### 1. 不要盲目跟单
- ✅ 理解信号逻辑后再操作
- ✅ 从小额资金开始
- ✅ 设置止损，严格执行
- ❌ 不要全仓押注

### 2. 信号不是100%准确
- 系统目标胜率: 95%
- 实际胜率: 取决于市场环境
- 连续亏损时: 降低仓位或暂停
- 高胜率时: 可适当增加仓位

### 3. 风险控制第一
- 单笔风险: ≤2% 账户
- 总风险: ≤10% 账户
- 日亏损上限: 5%
- 连续3次止损: 暂停交易

### 4. 推荐交易时段
- ✅ **最佳**: 北京时间 16:00-24:00 (欧美交易时段)
- ⚠️ **次佳**: 北京时间 08:00-16:00 (亚洲交易时段)
- ❌ **避免**: 北京时间 00:00-08:00 (交易量低)

### 5. 币种选择
- ✅ **推荐**: BTC, ETH (流动性高，波动适中)
- ⚠️ **谨慎**: 山寨币 (波动大，风险高)
- ❌ **避免**: 新币、小币种 (流动性差)

---

## 📊 常见使用场景

### 场景 1: 日内短线交易
**目标**: 抓住10-30分钟的价格波动

**操作流程**:
1. 每30分钟刷新一次分析
2. 寻找 B10/S10 信号 (10分钟预测)
3. 信心度 ≥85 立即入场
4. 设置紧止损 (-1%), 目标 +3%
5. 快进快出，当天平仓

### 场景 2: 趋势跟踪
**目标**: 跟随主趋势，让利润奔跑

**操作流程**:
1. 每3小时分析一次
2. 重点看 B30/S30 信号 (30分钟预测)
3. 多周期趋势一致 + 信心度 ≥90
4. 设置宽止损 (-2%), 目标 +5-10%
5. 持仓 1-3 天，趋势反转再平仓

### 场景 3: 回调/反弹交易
**目标**: 在回调/反弹时低买高卖

**操作流程**:
1. 等待价格触及支撑/阻力位
2. 查看布林带下轨/上轨信号
3. RSI < 30 做多，RSI > 70 做空
4. 波浪理论确认 (浪2/浪4 入场)
5. 目标: 回到均线 (EMA20)

---

## 🔧 故障排除

### 问题 1: 点击 "分析 BTC" 没反应
**解决**:
- 打开浏览器控制台 (F12)
- 查看是否有错误信息
- 检查服务器是否正常运行
- 刷新页面重试

### 问题 2: AI 分析很慢 (>1分钟)
**原因**:
- DeepSeek API 网络延迟
- 服务器负载高

**解决**:
- 等待完成 (正常可达 30-60 秒)
- 检查网络连接
- 减少分析频率

### 问题 3: 显示 "DeepSeek API error"
**原因**:
- API Key 错误或过期
- API 配额用完
- 网络无法访问 DeepSeek

**解决**:
- 检查 API Key 是否正确
- 查看 DeepSeek 控制台配额
- 更换网络或使用代理

### 问题 4: 胜率显示 0%
**原因**:
- 刚启动，还没有历史数据
- 预测时间未到 (10分钟/30分钟)

**解决**:
- 等待至少 10 分钟
- 多次预测后会自动统计
- 查看交易历史记录

---

## 📈 进阶使用

### 1. 自定义参数
编辑 `server_v2.py` 调整以下参数：

```python
# 多周期 K 线数量
limit=200  # 默认200根，可增加到500

# 信心度阈值
confidence_threshold = 85  # 默认85，可提高到90

# 多空确认清单要求
required_checklist = 6  # 默认6/8，可提高到7/8
```

### 2. 批量分析
编写脚本批量分析多个币种：

```python
symbols = ['BTCUSDT', 'ETHUSDT', 'BNBUSDT', 'ADAUSDT']
for symbol in symbols:
    analysis = multi_tf_analyzer.analyze_multi_timeframe(symbol)
    signal = deepseek_ai.generate_trading_signal(symbol, analysis)
    print(f"{symbol}: {signal['action']}")
```

### 3. 导出数据
将预测记录导出为 CSV：

```python
import pandas as pd

trades = deepseek_ai.trade_history
df = pd.DataFrame(trades)
df.to_csv('trading_history.csv', index=False)
```

---

## 🎓 学习资源

### 推荐书籍
1. 《日本蜡烛图技术》 - Steve Nison
2. 《股市趋势技术分析》 - Robert D. Edwards
3. 《海龟交易法则》 - Curtis M. Faith

### 在线课程
1. Coursera - Algorithmic Trading
2. Udemy - Cryptocurrency Trading
3. YouTube - Technical Analysis Basics

### 技术指标学习
- MACD: https://www.investopedia.com/terms/m/macd.asp
- RSI: https://www.investopedia.com/terms/r/rsi.asp
- 布林带: https://www.investopedia.com/terms/b/bollingerbands.asp

---

**准备好开始你的 AI 交易之旅了吗？🚀**
